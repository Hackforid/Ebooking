<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="renderer" content="webkit"> 
<meta http-equiv="X-UA-Compatible" content="IE=edge" />

<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />


<title>商旅分销管理系统</title>

<script>
if (window.location.host == "ebooking.betterwood.com") {
    var _hmt = _hmt || [];
    (function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?bdfdf5e780c80fff1d6d3a1f708d0032";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
    })();
} else if (window.location.host == "ebookingtest.betterwood.com") {

    var _hmt = _hmt || [];
    (function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?385000e2adcc281fc566e9e409bb69ec";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
    })();

}
</script>


<script src="/static/js/jquery1.9.1.js?v=20150331"></script>
<link rel="stylesheet" type="text/css" href="/static/css/bootstrap.min.css?v=20150331">
<link rel="stylesheet" type="text/css" href="/static/css/bootstrap-datepicker3.css?v=20150331">

<script type="text/javascript" src="/static/js/bootstrap.min.js?v=20150331"></script>
<script type="text/javascript" src="/static/js/bootstrap-datepicker.js?v=20150331"></script>
<script type="text/javascript" src="/static/js/bootstrap-datepicker.zh-CN.min.js?v=20150331"></script>


<link href="/static/css/default.css?v=20150602" rel="stylesheet" type="text/css" >
<link href="/static/css/mod.css?v=20150602" rel="stylesheet" type="text/css" >

<script src="/static/js/jquery.Placeholder.js?v=20150331"></script> <!--placeholder属性兼容--> 
<script src="/static/js/common.js?v=20150602"></script>  
<script src="/static/java/js/mainmenu-tab.js?v=20150331"></script><!--tab标签js--> 

<script src="/static/js/angular.js?v=20150331"></script>

<script src="/static/js/conLogService.js?v=20150331"></script>

<script src="/static/java/dist/echarts.js?v=20150331"></script>

<script src="/static/java/js/order.js?v=20150602"></script>

<link href="/static/image/icon.ico" rel="SHORTCUT ICON">


</head>
<body>


<div class="wrapper">
   
   
   
 <!--页头部分-->   
        <div class="header"><div class="auto">
        
        <!--顶部用户信息-->  
       <div class="admin-info">
           <div class="fl">
           <img src="/static/image/bg-admin.png" width="80" height="80" class="img3"/>
           <img src="/static/image/admin-head.jpg" class="img-head"/>
           </div>
        <div class="fr">
              欢迎回来！<br />
           <strong id="usenameId"></strong>
          </div>
      </div>
      
      <div class="person-menu">
      <ul>
          <li id="manageMenu" class="icon-admin"><a href="/userManage/" target="_blank">用户管理</a></li>
          <li class="icon-password"><a href="/password/" target="_blank">修改密码</a></li>
     </ul>
      </div>
      
         <div class="left">
        <img src="/static/image/logo-sys.png" width="250" height="50" alt="旅行社分销管理系统" class="img1"/>
       </div>
       
       <div class="right">
          <ul class="right-menu">
          <li class="icon-out"><a href="javascript:void(0)" id="out-btn">退出系统</a></li>
                     
          <li id="qqOnline" class="icon-contact" style="position:relative">

            <div  class="qq" id="qqContact">
                <div class="borderdis"></div>
                <div class="qqcontracter" style="padding-top:10px">
                    <a target="_blank" href="http://wpa.qq.com/msgrd?v=3&uin=2106806514&site=qq&menu=yes">
                       <img src="/static/image/qq_contact.png">
                    </a>
                    <span>旅行社合作客服  沐沐</span>
                </div>
                <div class="qqcontracter">
                    <a target="_blank" href="http://wpa.qq.com/msgrd?v=3&uin=2731202307&site=qq&menu=yes">
                       <img src="/static/image/qq_contact.png">
                    </a>
                    <span>旅行社合作客服 cici</span>
                </div>
                <div class="qqcontracter">
                    <a target="_blank" href="http://wpa.qq.com/msgrd?v=3&uin=154178421&site=qq&menu=yes">
                       <img src="/static/image/qq_contact.png">
                    </a>
                    <span>单体合作酒店客服 婷婷</span>
                </div>
                
            </div> 

            <a href="#" alt="在线QQ联系我们" title="在线QQ联系我们">在线客服</a>
            </li>  

           <li class="icon-guide"><a href="javascript:void(0)" id="guide-btn">新手引导</a></li>
           <li id="qrcode"><a href="javascript:void(0)" id="guide-btn">官方微信</a></li>               
          </ul>
       </div>
             
       </div></div>
      <!--页头部分end-->  

   
 <!--左侧部分-->  
    <div class="main-left">
     
       <!--左侧菜单-->   
       <div class="left-menu">
           <dl class="menu1" style="margin-bottom: 0px;">
               <dt><u class="icon-dt"></u>订单管理</dt>
               <dd><a href="/order/waiting/"><u class="icon1"></u>待确认订单<b class="has-order">·</b></a></dd>
               <dd><a href="/order/list"><u class="icon2"></u>订单查询</a></dd>
           </dl>
           
           <dl class="menu2" style="margin-bottom: 0px;">       
               <dt><u class="icon-dt"></u>合作酒店管理</dt>
               <dd><a href="/hotel/cooped/"><u class="icon4"></u>已合作酒店</a></dd>
               <dd id="willcoophotel"><a href="/hotel/willcoop/"><u class="icon5"></u>可合作酒店</a></dd>                
            </dl>
            
           <dl class="menu3" style="margin-bottom: 0px;">      
               <dt><u class="icon-dt"></u>数据统计</dt>
               <dd class="active"><a href="orderAnalyse.html"><u class="icon3"></u>订单统计</a></dd>
               <!--<dd><a href="#"><u class="icon3"></u>间夜统计</a></dd>-->
           </dl>

            

            <dl class="menu4" style="margin-bottom: 0px;">      
                        <dt><u class="icon-dt"></u>财务统计</dt>
                        <dd><a href="/finance/prepay/"><u class="icon3"></u>预付结算</a></dd>
                        <dd><a href="/finance/agency/"><u class="icon3"></u>现付结算</a></dd>

                        <dd><a href="/contract/"><u class="icon3"></u>合同管理</a></dd>
            </dl>






       </div>
       <!--左侧菜单end-->
  </div>
  <!--左侧部分end--> 
  
   
    <!--右侧部分-->   
    <div class="main-right" ng-app="orderAnalyseApp">
    
     <!--导航条--> 
       <div class="notice" id="notice"><h2>订单统计</h2></div>
         <!--导航条end-->  
         
        <!--主体内容-->  
          <div class="main"><div class="p15">
             
           <!--订单统计分析开始-->  
 
            <div class="main-osearch main-ana"><div class="content">
            
            <div class="tabList">
<ul>
<li><a href="#" title="" id="tablink1" class="tabactive" >最近七天</a></li>
<li><a href="#" title="" id="tablink2">最近30天</a></li>
<li><a href="#" title="" id="tablink3">指定日期</a></li>
</ul>
</div>
 
              
              <div class="tabCon">
                 <div ng-controller="orderTab1AnalyseCtrl" id="tabcontent1" class="tabcon1" style=" display:block">





<!--订单详情弹窗浮层-->     
<div class="messageDiv"  style="z-index:100000" ng-show="currentOrderDetails" ng-cloak>
   <div class="messageBlack"></div>
   <div class="detail hotel-detail" style="width:400px;margin-left:-200px;">
       <div class="head"><h1>订单详情</h1></div>
       <p id="closeDiv" class="close" href="#" ng-click="currentOrderDetails=false;">X</p>
       <div class="con">
           
           <div class="cm2" style="height:350px">


           <table width="100%">
           <tr><td style="width:22%"><strong>订单确认号：</strong></td><td style="width:78%"><span ng-bind="currentOrder['id']"></span></td></tr>

           <tr><td style="width:22%"><strong>类型：</strong></td><td style="width:78%"><span ng-bind="checkPayType(currentOrder['payType'])"></span></td></tr>


           <tr><td style="width:22%"><strong>酒店名称：</strong></td><td style="width:78%"><span ng-bind="currentOrder['hotelName']"></span></td></tr>
           <tr><td style="width:22%"><strong>房型：</strong></td><td style="width:78%"><span ng-bind="currentOrder['roomTypeName']"></span></td></tr>

           <tr><td style="width:22%"><strong>床型：</strong></td><td style="width:78%"><span ng-bind="checkBedType(currentOrder['bedType'])"></span></td></tr>

           <tr><td style="width:22%"><strong>入离时间：</strong></td><td style="width:78%"><span ng-bind="currentOrder['checkInDate']+'入,'+currentOrder['checkOutDate']+'离'"></span></td></tr>

           


            <tr><td style="width:22%"><strong>预定时间：</strong></td><td style="width:78%"><span ng-bind="conchecktime(currentOrder.createTime)"></span></td></tr>




           <tr><td style="width:22%"><strong>入住人：</strong></td><td style="width:78%" >


           <span ng-repeat="cum in detailInfo" ng-bind="cum['name']+'&nbsp;&nbsp'"></span>




           </td></tr>
           <tr><td style="width:22%"><strong>联系人：</strong></td><td style="width:78%"><span ng-bind="currentOrder['contactName']"></span></td></tr>
           <tr><td style="width:22%"><strong>联系电话：</strong></td><td style="width:78%"><span ng-bind="currentOrder['contactMobile']"></span></td></tr>

             <tr><td style="width:22%"><strong>取消规则：</strong></td><td style="width:78%"><span ng-bind="getCancelStatus(currentOrder['cancelType'],currentOrder['punishType'])"></span></td></tr>
           <tr><td style="width:22%"><strong>价格类别：</strong></td><td style="width:78%"><span ng-bind="currentOrder['ratePlanName']"></span></td></tr>

            <tr><td style="width:22%"><strong>早餐数：</strong></td><td style="width:78%"><span ng-bind="checkBreakFast(currentOrder['breakfast'])"></span></td></tr>


           <tr><td style="width:22%"><strong>每日价格：</strong></td><td style="width:78%"><span ng-bind="checkEveryPrice(currentOrder['everydayPrice'])"></span></td></tr>
           <tr><td style="width:22%"><strong>总价：</strong></td><td style="width:78%"><span ng-bind="currentOrder['totalPrice']/100"></span></td></tr>
            <tr><td style="width:22%"><strong>拒绝理由：</strong></td><td style="width:78%"><span ng-bind="resonStatusCheck(currentOrder['status'],currentOrder['extra'])"></span></td></tr>
           <tr><td style="width:22%"><strong>备注：</strong></td><td style="width:78%"><span ng-bind="currentOrder['customerRemark']"></span></td></tr>

          
           </table>
              
           </div>
          
       </div>
   </div> 
</div> 
 <!--订单详情浮层结束-->   








 <!--order弹窗浮层-->     
<div class="messageDiv"   ng-show="qorderDetail" ng-cloak>
   <div class="messageBlack"></div>
   <div class="detail hotel-detail" style="width:1000px;height:auto;margin-left:-500px;min-height:500px;height:500px;margin-top:-250px;"><!--tempheight-->
       <div class="head"><h1>订单列表</h1></div>
       <p id="closeDiv" class="close" href="#" ng-click="qorderDetail=false">X</p>
       <div class="con" style="height:auto;min-height:200px;"><!--tempheight-->


        <!--订单开始-->  
            <div class="main-mod main-order">


                <div class="content"><div class="p15" style="min-height:200px;height:420px;overflow:auto"><!--tempheight-->

                        <table width="100%" border="0" cellspacing="0" cellpadding="0" class="table-head" >
                            <thead><tr>
                                    <th width="10%">订单确认号</th>
                                    <th width="10%">酒店名称</th>
                                    <th width="10%">房型</th>
                                    <th width="15%">入离日期</th>
                                    <th width="10%">总价</th>
                                    <th width="10%">预约时间</th>    
                                    <th width="15%">入住人</th>  
                                    <th width="10%">类型</th>  
                                    <th width="10%">状态</th>   
                                    
                                   
                            </tr></thead>
                        </table>

                        <!--单个订单-->
                        <div class="room-main">
                            <table width="100%" border="0" cellspacing="0" cellpadding="0" class="table02" >
                                <tr ng-repeat="order in currentOtaOrders.orders">

                                  <td style="vertical-align: middle;" width="10%">

                                    <a href="#" ng-bind="order.id" ng-click="getCurrentOrder(order);"></a>
                                    

                                  </td>
                                    <td style="vertical-align: middle;" width="10%" ng-bind="order.hotelName"></td>
                                    <td style="vertical-align: middle;" width="10%" ng-bind="order.roomTypeName"></td>

                                    <td style="vertical-align: middle;" width="15%"><span ng-bind="order.checkInDate+'至'"></span><br />
                                       <span ng-bind="order.checkOutDate"></span>
                                       <span ng-bind="DateDiff(order.checkInDate,order.checkOutDate)"></span>
                                    </td>

                                    <td style="vertical-align: middle;" width="10%" ng-bind="(order.totalPrice/100)+'元'"></td>    
                                    <td style="vertical-align: middle;" width="10%" ng-init="ordercreatTime=timeConvert(order['createTime'])">

                                    <span ng-bind="ordercreatTime[0]"></span>
                                    <br />
                                    <span ng-bind="ordercreatTime[1]"></span>


                                    </td>

                                    <td style="vertical-align: middle;" width="15%" ng-init="finalinfo=infoconvent(order.customerInfo);">

                                    <div ng-repeat="cum in finalinfo" ng-bind="cum['name']">
                                    </div>

                                    </td>

                                    <td style="vertical-align: middle;" width="10%" ng-bind='getConfirmType(order.confirmType)'></td>  
                                    <td style="vertical-align: middle;" width="10%" ng-bind="checkStatus(order.status)"></td>   
                                    
                               
                                    
                                </tr>
                            </table>
                        </div>  
                        <!--单个订单end-->
                                                                                       
                       <!--页码
                        <div id="pageInfo" class="page" style="display:none">
                                
                          <span  id="pageNumber"  ng-if="directiveCtl" page-info></span>
                
                          <span><span ng-bind="'共'+total+'条，每页'+itemPerPage+'条，每页显示条数：'"></span><select name="" class="input-s"  ng-model="itemPerPage">
                                <option value="10">10</option>
                                <option value="20">20</option>
                                <option value="30">30</option>
                                <option value="40">40</option>
                          </select></span>
                      </div>
                      页码end-->        

                </div></div>
            </div>

            <!--订单结束-->  

          
       </div>
   </div> 
</div>
 <!--order弹窗浮层结束-->    








                  <div class="search-div" style="height:60px">
          <div class="content" style="height:60px">
            <div class="divone"><div class="c">

                                      
                <label><strong>渠道：</strong><select name="" class="input-s"  ng-model="currentOtaWay">
                    <option value="0">全部</option>
                    <option value="1">去哪儿</option>
                    <option value="2">淘宝旅行</option>
                    <option value="3">美团</option>
                    <option value="4">携程</option>
                    <option value="5">艺龙</option>
                   <!--  <option value="6">去哪儿(酒店联盟)</option>
                   <option value="7">去哪儿(快团)</option>
                   <option value="8">去哪儿(酒店直销)</option> -->
                    <option value="9">百达屋</option>
                   <!--  <option value="10">携程(团购)</option> -->
                </select></label>


                <label>
                  <strong>日期:</strong>
                  <span style="float:none" ng-bind="startTime+'至'+endTime"></span>
                 </label>
                                                                                          

               <!-- <label>
                  <input class="btn-s" name="" type="button" value="搜索" ng-click="searchCurrentOta()"/> <input name="" type="button" value="重置"  ng-click="currentOtaWay='';" class="btn-bai btn-s" />
                </label>-->


            </div></div>
            </div>
                </div>


              <div class="willcoop-div" style="min-height:100px;height:auto">
          <div class="content" style="min-height:100px;height:auto"><div class="p15">

              <table width="100%" border="0" cellspacing="0" cellpadding="0" class="table-head" style="margin-bottom:0px;">
                <thead><tr>
                    
                    <th width="33%">渠道</th>
                    <th width="33%">间夜数</th>
                    <th width="33%">订单总量</th>
                    
                </tr></thead>
              </table> 




              <table width="100%" border="0" cellspacing="0" cellpadding="0" class="table01" style="line-height:35px">
                <tr ng-repeat="(k,v) in currrentOtaResult">
                  
                    <td width="33%" ng-bind="v['name']"></td>

                    <td width="33%" ng-bind="v['nightCounts']"></td>

                    <td width="33%" ><a href="#" ng-click="orderDetail(k)" ng-bind="v['orderCounts']"></a></td>
                    
                                    
                </tr>

                <tr ng-show="allSumShow" ng-cloak>
                    <td width="33%"> 合计</td>
                    <td width="33%" ng-bind="getAllNightCounts(currrentOtaResult);"></td>
                    <td width="33%" ng-bind="getAllOrderCounts(currrentOtaResult);"></td>
                  
                </tr>
                
              </table>
                              
          </div></div>
        </div>


 
 
 <!--<table width="100%" border="0" cellspacing="0" cellpadding="0" class="table01">
 <thead><tr>
    <th width="50%">订单日期</th>
    <th width="50%">订单总量</th>
  </tr></thead>
 <tr id="tab1time">
    <td width="50%" ng-bind="startTime+'至'+endTime"></td>
    <td width="50%" ng-bind="currentCounts"></td>
    
  </tr>
 
     </table>-->
     <div id="lineone" style="height:400px"></div>



     <table width="100%" border="0" cellspacing="0" cellpadding="0" class="table01">
 <thead><tr>
    <th width="100%">渠道分析</th>
  </tr></thead>
     </table>


    <div id="pieone" style="height:400px"></div>


      
                 
                 </div>
                 
                 <div ng-controller="orderTab2AnalyseCtrl" id="tabcontent2" class="tabcon2" style=" display:none">




<!--订单详情弹窗浮层-->     
<div class="messageDiv"  style="z-index:100000" ng-show="currentOrderDetails" ng-cloak>
   <div class="messageBlack"></div>
   <div class="detail hotel-detail" style="width:400px;margin-left:-200px;">
       <div class="head"><h1>订单详情</h1></div>
       <p id="closeDiv" class="close" href="#" ng-click="currentOrderDetails=false;">X</p>
       <div class="con">
           
           <div class="cm2" style="height:350px">


           <table width="100%">
           <tr><td style="width:22%"><strong>订单确认号：</strong></td><td style="width:78%"><span ng-bind="currentOrder['id']"></span></td></tr>

            <tr><td style="width:22%"><strong>类型：</strong></td><td style="width:78%"><span ng-bind="checkPayType(currentOrder['payType'])"></span></td></tr>


           <tr><td style="width:22%"><strong>酒店名称：</strong></td><td style="width:78%"><span ng-bind="currentOrder['hotelName']"></span></td></tr>
           <tr><td style="width:22%"><strong>房型：</strong></td><td style="width:78%"><span ng-bind="currentOrder['roomTypeName']"></span></td></tr>

            <tr><td style="width:22%"><strong>床型：</strong></td><td style="width:78%"><span ng-bind="checkBedType(currentOrder['bedType'])"></span></td></tr>

           <tr><td style="width:22%"><strong>入离时间：</strong></td><td style="width:78%"><span ng-bind="currentOrder['checkInDate']+'入,'+currentOrder['checkOutDate']+'离'"></span></td></tr>


            <tr><td style="width:22%"><strong>预定时间：</strong></td><td style="width:78%"><span ng-bind="conchecktime(currentOrder.createTime)"></span></td></tr>




           <tr><td style="width:22%"><strong>入住人：</strong></td><td style="width:78%" >


           <span ng-repeat="cum in detailInfo" ng-bind="cum['name']+'&nbsp;&nbsp'"></span>




           </td></tr>
           <tr><td style="width:22%"><strong>联系人：</strong></td><td style="width:78%"><span ng-bind="currentOrder['contactName']"></span></td></tr>
           <tr><td style="width:22%"><strong>联系电话：</strong></td><td style="width:78%"><span ng-bind="currentOrder['contactMobile']"></span></td></tr>

             <tr><td style="width:22%"><strong>取消规则：</strong></td><td style="width:78%"><span ng-bind="getCancelStatus(currentOrder['cancelType'],currentOrder['punishType'])"></span></td></tr>
           <tr><td style="width:22%"><strong>价格类别：</strong></td><td style="width:78%"><span ng-bind="currentOrder['ratePlanName']"></span></td></tr>

            <tr><td style="width:22%"><strong>早餐数：</strong></td><td style="width:78%"><span ng-bind="checkBreakFast(currentOrder['breakfast'])"></span></td></tr>

           <tr><td style="width:22%"><strong>每日价格：</strong></td><td style="width:78%"><span ng-bind="checkEveryPrice(currentOrder['everydayPrice'])"></span></td></tr>
           <tr><td style="width:22%"><strong>总价：</strong></td><td style="width:78%"><span ng-bind="currentOrder['totalPrice']/100"></span></td></tr>
            <tr><td style="width:22%"><strong>拒绝理由：</strong></td><td style="width:78%"><span ng-bind="resonStatusCheck(currentOrder['status'],currentOrder['extra'])"></span></td></tr>
           <tr><td style="width:22%"><strong>备注：</strong></td><td style="width:78%"><span ng-bind="currentOrder['customerRemark']"></span></td></tr>

          
           </table>
              
           </div>
          
       </div>
   </div> 
</div> 
 <!--订单详情浮层结束-->   




                  


 <!--order弹窗浮层-->     
<div class="messageDiv"   ng-show="qorderDetail" ng-cloak>
   <div class="messageBlack"></div>
   <div class="detail hotel-detail" style="width:1000px;height:auto;margin-left:-500px;min-height:500px;height:500px;margin-top:-250px;"><!--tempheight-->
       <div class="head"><h1>订单列表</h1></div>
       <p id="closeDiv" class="close" href="#" ng-click="qorderDetail=false">X</p>
       <div class="con" style="height:auto;min-height:200px;"><!--tempheight-->


        <!--订单开始-->  
            <div class="main-mod main-order">


                <div class="content"><div class="p15" style="min-height:200px;height:420px;overflow:auto"><!--tempheight-->

                        <table width="100%" border="0" cellspacing="0" cellpadding="0" class="table-head" >
                            <thead><tr>
                                    <th width="10%">订单确认号</th>
                                    <th width="10%">酒店名称</th>
                                    <th width="10%">房型</th>
                                    <th width="15%">入离日期</th>
                                    <th width="10%">总价</th>
                                    <th width="10%">预约时间</th>    
                                    <th width="15%">入住人</th>  
                                    <th width="10%">类型</th>  
                                    <th width="10%">状态</th>   
                                    
                                   
                            </tr></thead>
                        </table>

                        <!--单个订单-->
                        <div class="room-main">
                            <table width="100%" border="0" cellspacing="0" cellpadding="0" class="table02" >
                                <tr ng-repeat="order in currentOtaOrders.orders">

                                  <td style="vertical-align: middle;" width="10%" >
                                    
                                    <a href="#" ng-bind="order.id" ng-click="getCurrentOrder(order);"></a>

                                  </td>
                                    <td style="vertical-align: middle;" width="10%" ng-bind="order.hotelName"></td>
                                    <td style="vertical-align: middle;" width="10%" ng-bind="order.roomTypeName"></td>

                                    <td style="vertical-align: middle;" width="15%"><span ng-bind="order.checkInDate+'至'"></span><br />
                                       <span ng-bind="order.checkOutDate"></span>
                                       <span ng-bind="DateDiff(order.checkInDate,order.checkOutDate)"></span>
                                    </td>

                                    <td style="vertical-align: middle;" width="10%" ng-bind="(order.totalPrice/100)+'元'"></td>    
                                    <td style="vertical-align: middle;" width="10%" ng-init="ordercreatTime=timeConvert(order['createTime'])">

                                    <span ng-bind="ordercreatTime[0]"></span>
                                    <br />
                                    <span ng-bind="ordercreatTime[1]"></span>


                                    </td>

                                    <td style="vertical-align: middle;" width="15%" ng-init="finalinfo=infoconvent(order.customerInfo);">

                                    <div ng-repeat="cum in finalinfo" ng-bind="cum['name']">
                                    </div>

                                    </td>

                                    <td style="vertical-align: middle;" width="10%" ng-bind='getConfirmType(order.confirmType)'></td>  
                                    <td style="vertical-align: middle;" width="10%" ng-bind="checkStatus(order.status)"></td>   
                                    
                               
                                    
                                </tr>
                            </table>
                        </div>  
                        <!--单个订单end-->
                                                                                       
                       <!--页码
                        <div id="pageInfo" class="page" style="display:none">
                                
                          <span  id="pageNumber"  ng-if="directiveCtl" page-info></span>
                
                          <span><span ng-bind="'共'+total+'条，每页'+itemPerPage+'条，每页显示条数：'"></span><select name="" class="input-s"  ng-model="itemPerPage">
                                <option value="10">10</option>
                                <option value="20">20</option>
                                <option value="30">30</option>
                                <option value="40">40</option>
                          </select></span>
                      </div>
                      页码end-->        

                </div></div>
            </div>

            <!--订单结束-->  

          
       </div>
   </div> 
</div>
 <!--order弹窗浮层结束-->    








                  <div class="search-div" style="height:60px">
          <div class="content" style="height:60px">
            <div class="divone"><div class="c">

                                      
                <label><strong>渠道：</strong><select name="" class="input-s"  ng-model="currentOtaWay">
                   <option value="0">全部</option>
                    <option value="1">去哪儿</option>
                    <option value="2">淘宝旅行</option>
                    <option value="3">美团</option>
                    <option value="4">携程</option>
                    <option value="5">艺龙</option>
                   <!--  <option value="6">去哪儿(酒店联盟)</option>
                   <option value="7">去哪儿(快团)</option>
                   <option value="8">去哪儿(酒店直销)</option> -->
                    <option value="9">百达屋</option>
                   <!--  <option value="10">携程(团购)</option> -->
                </select></label>


                <label>
                  <strong>日期:</strong>
                  <span style="float:none" ng-bind="startTime+'至'+endTime"></span>
                 </label>
                                                                                          

               <!-- <label>
                  <input class="btn-s" name="" type="button" value="搜索" ng-click="searchCurrentOta()"/> <input name="" type="button" value="重置"  ng-click="currentOtaWay='';" class="btn-bai btn-s" />
                </label>-->


            </div></div>
            </div>
                </div>


              <div class="willcoop-div" style="min-height:100px;height:auto">
          <div class="content" style="min-height:100px;height:auto"><div class="p15">

              <table width="100%" border="0" cellspacing="0" cellpadding="0" class="table-head" style="margin-bottom:0px;">
                <thead><tr>
                    
                    <th width="33%">渠道</th>
                    <th width="33%">间夜数</th>
                    <th width="33%">订单总量</th>
                    
                </tr></thead>
              </table> 




              <table width="100%" border="0" cellspacing="0" cellpadding="0" class="table01" style="line-height:35px">
                <tr ng-repeat="(k,v) in currrentOtaResult">
                  
                    <td width="33%" ng-bind="v['name']"></td>

                    <td width="33%" ng-bind="v['nightCounts']"></td>

                    <td width="33%" ><a href="#" ng-click="orderDetail(k)" ng-bind="v['orderCounts']"></a></td>
                    
                                    
                </tr>

                <tr ng-show="allSumShow" ng-cloak>
                    <td width="33%"> 合计</td>
                    <td width="33%" ng-bind="getAllNightCounts(currrentOtaResult);"></td>
                    <td width="33%" ng-bind="getAllOrderCounts(currrentOtaResult);"></td>
                  
                </tr>

                
              </table>
                              
          </div></div>
        </div>






                    
  <!--    
 <table width="100%" border="0" cellspacing="0" cellpadding="0" class="table01">
 <thead><tr>
    <th width="50%">订单日期</th>
    <th width="50%">订单总量</th>
  </tr></thead>
 <tr id="tab2time">
    <td width="50%" ng-bind="startTime+'至'+endTime"></td>
    <td width="50%" ng-bind="currentCounts"></td>
    
  </tr>
 
     </table>-->

      <div id="linetwo" style="height:400px"></div>



     <table width="100%" border="0" cellspacing="0" cellpadding="0" class="table01">
 <thead><tr>
    <th width="100%">渠道分析</th>
  </tr></thead>
     </table>


    <div id="pietwo" style="height:400px"></div>




                 
                 </div>
                 
                 
                 
                 
                 
                 <div ng-controller="orderTab3AnalyseCtrl" id="tabcontent3" class="tabcon3" style=" display:none">
                       
                <!-- <div class="search-div">
                   <div class="divone">
                      
                     <label >起始日期： <input  type="text" name="time1" id="time1" readonly="readonly" onClick="WdatePicker()"  class="input-time"/ > 至 
                     <input  type="text" name="time2" id="time2" onClick="WdatePicker()" readonly="readonly"  class="input-time"/>
                     </label>
                    
                     <label ><input ng-click="searchorder();"  name="" type="button" value="搜索" />
                    <input name="" ng-click="resetorder()" type="button" value="重置"   class="btn-bai btn-s" /> 
 </label>
                     </div>
                 </div>-->



  
<!--订单详情弹窗浮层-->     
<div class="messageDiv"  style="z-index:100000" ng-show="currentOrderDetails" ng-cloak>
   <div class="messageBlack"></div>
   <div class="detail hotel-detail" style="width:400px;margin-left:-200px;">
       <div class="head"><h1>订单详情</h1></div>
       <p id="closeDiv" class="close" href="#" ng-click="currentOrderDetails=false;">X</p>
       <div class="con">
           
           <div class="cm2" style="height:350px">


           <table width="100%">
           <tr><td style="width:22%"><strong>订单确认号：</strong></td><td style="width:78%"><span ng-bind="currentOrder['id']"></span></td></tr>

            <tr><td style="width:22%"><strong>类型：</strong></td><td style="width:78%"><span ng-bind="checkPayType(currentOrder['payType'])"></span></td></tr>

           <tr><td style="width:22%"><strong>酒店名称：</strong></td><td style="width:78%"><span ng-bind="currentOrder['hotelName']"></span></td></tr>
           <tr><td style="width:22%"><strong>房型：</strong></td><td style="width:78%"><span ng-bind="currentOrder['roomTypeName']"></span></td></tr>

            <tr><td style="width:22%"><strong>床型：</strong></td><td style="width:78%"><span ng-bind="checkBedType(currentOrder['bedType'])"></span></td></tr>


           <tr><td style="width:22%"><strong>入离时间：</strong></td><td style="width:78%"><span ng-bind="currentOrder['checkInDate']+'入,'+currentOrder['checkOutDate']+'离'"></span></td></tr>


            <tr><td style="width:22%"><strong>预定时间：</strong></td><td style="width:78%"><span ng-bind="conchecktime(currentOrder.createTime)"></span></td></tr>




           <tr><td style="width:22%"><strong>入住人：</strong></td><td style="width:78%" >


           <span ng-repeat="cum in detailInfo" ng-bind="cum['name']+'&nbsp;&nbsp'"></span>




           </td></tr>
           <tr><td style="width:22%"><strong>联系人：</strong></td><td style="width:78%"><span ng-bind="currentOrder['contactName']"></span></td></tr>
           <tr><td style="width:22%"><strong>联系电话：</strong></td><td style="width:78%"><span ng-bind="currentOrder['contactMobile']"></span></td></tr>

             <tr><td style="width:22%"><strong>取消规则：</strong></td><td style="width:78%"><span ng-bind="getCancelStatus(currentOrder['cancelType'],currentOrder['punishType'])"></span></td></tr>
           <tr><td style="width:22%"><strong>价格类别：</strong></td><td style="width:78%"><span ng-bind="currentOrder['ratePlanName']"></span></td></tr>


            <tr><td style="width:22%"><strong>早餐数：</strong></td><td style="width:78%"><span ng-bind="checkBreakFast(currentOrder['breakfast'])"></span></td></tr>


           <tr><td style="width:22%"><strong>每日价格：</strong></td><td style="width:78%"><span ng-bind="checkEveryPrice(currentOrder['everydayPrice'])"></span></td></tr>
           <tr><td style="width:22%"><strong>总价：</strong></td><td style="width:78%"><span ng-bind="currentOrder['totalPrice']/100"></span></td></tr>
            <tr><td style="width:22%"><strong>拒绝理由：</strong></td><td style="width:78%"><span ng-bind="resonStatusCheck(currentOrder['status'],currentOrder['extra'])"></span></td></tr>
           <tr><td style="width:22%"><strong>备注：</strong></td><td style="width:78%"><span ng-bind="currentOrder['customerRemark']"></span></td></tr>

          
           </table>
              
           </div>
          
       </div>
   </div> 
</div> 
 <!--订单详情浮层结束-->   
                  


 <!--order弹窗浮层-->     
<div class="messageDiv"   ng-show="qorderDetail" ng-cloak>
   <div class="messageBlack"></div>
   <div class="detail hotel-detail" style="width:1000px;height:auto;margin-left:-500px;min-height:500px;height:500px;margin-top:-250px;"><!--tempheight-->
       <div class="head"><h1>订单列表</h1></div>
       <p id="closeDiv" class="close" href="#" ng-click="qorderDetail=false">X</p>
       <div class="con" style="height:auto;min-height:200px;"><!--tempheight-->


        <!--订单开始-->  
            <div class="main-mod main-order">


                <div class="content"><div class="p15" style="min-height:200px;height:420px;overflow:auto"><!--tempheight-->

                        <table width="100%" border="0" cellspacing="0" cellpadding="0" class="table-head" >
                            <thead><tr>
                                    <th width="10%">订单确认号</th>
                                    <th width="10%">酒店名称</th>
                                    <th width="10%">房型</th>
                                    <th width="15%">入离日期</th>
                                    <th width="10%">总价</th>
                                    <th width="10%">预约时间</th>    
                                    <th width="15%">入住人</th>  
                                    <th width="10%">类型</th>  
                                    <th width="10%">状态</th>   
                                    
                                   
                            </tr></thead>
                        </table>

                        <!--单个订单-->
                        <div class="room-main">
                            <table width="100%" border="0" cellspacing="0" cellpadding="0" class="table02" >
                                <tr ng-repeat="order in currentOtaOrders.orders">

                                  <td style="vertical-align: middle;" width="10%">
                                    
                                    <a href="#" ng-bind="order.id" ng-click="getCurrentOrder(order);"></a>


                                  </td>
                                    <td style="vertical-align: middle;" width="10%" ng-bind="order.hotelName"></td>
                                    <td style="vertical-align: middle;" width="10%" ng-bind="order.roomTypeName"></td>

                                    <td style="vertical-align: middle;" width="15%"><span ng-bind="order.checkInDate+'至'"></span><br />
                                       <span ng-bind="order.checkOutDate"></span>
                                       <span ng-bind="DateDiff(order.checkInDate,order.checkOutDate)"></span>
                                    </td>

                                    <td style="vertical-align: middle;" width="10%" ng-bind="(order.totalPrice/100)+'元'"></td>    
                                    <td style="vertical-align: middle;" width="10%" ng-init="ordercreatTime=timeConvert(order['createTime'])">

                                    <span ng-bind="ordercreatTime[0]"></span>
                                    <br />
                                    <span ng-bind="ordercreatTime[1]"></span>


                                    </td>

                                    <td style="vertical-align: middle;" width="15%" ng-init="finalinfo=infoconvent(order.customerInfo);">

                                    <div ng-repeat="cum in finalinfo" ng-bind="cum['name']">
                                    </div>

                                    </td>

                                    <td style="vertical-align: middle;" width="10%" ng-bind='getConfirmType(order.confirmType)'></td>  
                                    <td style="vertical-align: middle;" width="10%" ng-bind="checkStatus(order.status)"></td>   
                                    
                               
                                    
                                </tr>
                            </table>
                        </div>  
                        <!--单个订单end-->
                                                                                       
                       <!--页码
                        <div id="pageInfo" class="page" style="display:none">
                                
                          <span  id="pageNumber"  ng-if="directiveCtl" page-info></span>
                
                          <span><span ng-bind="'共'+total+'条，每页'+itemPerPage+'条，每页显示条数：'"></span><select name="" class="input-s"  ng-model="itemPerPage">
                                <option value="10">10</option>
                                <option value="20">20</option>
                                <option value="30">30</option>
                                <option value="40">40</option>
                          </select></span>
                      </div>
                      页码end-->        

                </div></div>
            </div>

            <!--订单结束-->  

          
       </div>
   </div> 
</div>
 <!--order弹窗浮层结束-->    








                  <div class="search-div" style="height:60px">
          <div class="content" style="height:60px">
            <div class="divone"><div class="c">

                                      
                <label><strong>渠道：</strong><select name="" class="input-s"  ng-model="currentOtaWay">
                   <option value="0">全部</option>
                    <option value="1">去哪儿</option>
                    <option value="2">淘宝旅行</option>
                    <option value="3">美团</option>
                    <option value="4">携程</option>
                    <option value="5">艺龙</option>
                   <!--  <option value="6">去哪儿(酒店联盟)</option>
                   <option value="7">去哪儿(快团)</option>
                   <option value="8">去哪儿(酒店直销)</option> -->
                    <option value="9">百达屋</option>
                   <!--  <option value="10">携程(团购)</option> -->
                </select></label>


                <span ><strong>日期：</strong> <input  type="text" name="time1" id="time1" readonly="readonly" class="input-time"/ > 至 
                     <input  type="text" name="time2" id="time2" readonly="readonly"  class="input-time"/>
                     </span>
                    
                    <span>
                        <input ng-click="searchorder();"  name="" type="button" value="搜索" />
                        <input name="" ng-click="resetorder();" type="button" value="重置"   class="btn-bai btn-s" /> 
                    </span>
                                                                                          

             <!--   <label>
                  <input class="btn-s" name="" type="button" value="搜索" ng-click="searchCurrentOta()"/> <input name="" type="button" value="重置"  ng-click="currentOtaWay='';" class="btn-bai btn-s" />
                </label>-->


            </div></div>
            </div>
                </div>


              <div class="willcoop-div" style="min-height:100px;height:auto">
          <div class="content" style="min-height:100px;height:auto"><div class="p15">

              <table width="100%" border="0" cellspacing="0" cellpadding="0" class="table-head" style="margin-bottom:0px;">
                <thead><tr>
                    
                    <th width="33%">渠道</th>
                    <th width="33%">间夜数</th>
                    <th width="33%">订单总量</th>
                    
                </tr></thead>
              </table> 




              <table width="100%" border="0" cellspacing="0" cellpadding="0" class="table01" style="line-height:35px">
                <tr ng-repeat="(k,v) in currrentOtaResult">
                  
                    <td width="33%" ng-bind="v['name']"></td>

                    <td width="33%" ng-bind="v['nightCounts']"></td>

                    <td width="33%" ><a href="#" ng-click="orderDetail(k)" ng-bind="v['orderCounts']"></a></td>
                    
                                    
                </tr>


                <tr ng-show="allSumShow" ng-cloak>
                    <td width="33%"> 合计</td>
                    <td width="33%" ng-bind="getAllNightCounts(currrentOtaResult);"></td>
                    <td width="33%" ng-bind="getAllOrderCounts(currrentOtaResult);"></td>
                  
                </tr>
                
              </table>
                              
          </div></div>
        </div>















    <!--        
 <table id="tab3ordertitle" style="display:none" width="100%" border="0" cellspacing="0" cellpadding="0" class="table01">
 <thead><tr>
    <th width="50%">订单日期</th>
    <th width="50%">订单总量</th>
    
  </tr></thead>
 <tr id="tab3time">
    <td width="50%" ng-bind="startTime+'至'+endTime"></td>
    <td width="50%" ng-bind="currentCounts"></td>
    
  </tr>
 
     </table>-->


     <div id="linethree" style="height:400px"></div>



     <table id="tab3cometitle" style="display:none" width="100%" border="0" cellspacing="0" cellpadding="0" class="table01">
 <thead><tr>
    <th width="100%">渠道分析</th>
  </tr></thead>
     </table>


    <div id="piethree" style="height:400px"></div>
                 
                 </div>


                 








               </div>
               



            </div></div>
 
            <!--订单统计分析结束-->  
     
         </div></div>
         <!--主体内容end--> 
 
 
    
    </div>
    <!--右侧部分end--> 

</div>    
 

 <!--新手引导浮层-->     
<div class="messageDiv" id="guide-div" style=" display:none">
   <div class="messageBlack"></div>
   <div class="detail guide-div">
       <div class="head"><h1>新手引导</h1></div>
        <p id="closeDiv" class="close" href="#">X</p>
     <div class="con">
       <p class="f16" style=" text-align:center;padding:30px 0;">如果你是首次登录的用户，请按以下步骤操作：</p>
        <p  style=" text-align:center">

        <img src="/static/image/contral-step.jpg" width="331" height="264" />          
        </p>
       </div>
   </div> 
</div>   
 
</div>   
 <!--新手引导浮层结束-->  
 
  <!--退出登录浮层-->     
<div class="messageDiv" id="out-div" style=" display:none">
  <div class="messageBlack"></div>
   <div class="detail">
       <div class="head"><h1>提示</h1></div>       
       <div class="con">
           <p class="f16" style=" text-align:center;padding:30px 0;">你确认要退出吗？</p>
          <p class="action" style=" text-align:center">
          <input name="确定" type="button" value="确定" id="sure-out"/>
          <input name="取消" type="button" value="取消" class="btn-bai" id="no-out" />
          </p>
       </div>
   </div> 
</div>   
 <!--退出登录弹窗浮层结束-->        
     
</body>
</html>
